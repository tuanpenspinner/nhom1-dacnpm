(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{107:function(e,t){},114:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(53),s=n.n(c),o=n(1),i=n(2),l=n(4),m=n(3),u=n(5),b=n(54),p=n(12),h=n(18),d=n.n(h),f=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(e){(0,n.props.clickAnswer)(e)},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.answer,a=t.disable,c=n.map((function(t,n){return r.a.createElement("button",{key:n,onClick:function(){return e.onClick(n)},type:"button",disabled:a,className:"btn btn-secondary col-12 col-sm-5 answer"},t)}));return r.a.createElement("div",{className:" row"},c)}}]),t}(a.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.question;return r.a.createElement("div",{className:"badge badge-danger question"},r.a.createElement("h2",null,e))}}]),t}(a.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"img"})}}]),t}(a.Component),v=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=document.getElementById("nickName").value,t=document.getElementById("pin").value;(0,n.props.clickSubmit)(e,parseInt(t))},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"enterpin"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault()},method:"POST"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"nickName",placeholder:"Nick Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"pin",placeholder:"PIN"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(){return e.onClick()}},"Enter")))}}]),t}(a.Component),N=n(19),g=n.n(N),y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).start=function(){var e=n.state.endpoint;n.socket=g()(e,{rememberUpgrade:!0,transports:["websocket"],secure:!0,rejectUnauthorized:!1}),n.socket.on("numberQuestion",(function(e){n.setState({numberQuestion:e,disableAnswer:!1})})),n.socket.on("startOk",(function(e){e?n.getData():n.setState({start:!1,nickName:"",pin:""})}))},n.getData=function(){d.a.get("http://localhost:8000/getdata").then((function(e){var t=e.data;n.setState({questions:t,start:!0})})).catch((function(e){return console.log(e),0}))},n.clickAnswer=function(e){var t=n.state.questions,a=n.state.numberQuestion,r=t[a].rightAnswer;n.setState({disableAnswer:!0}),e===r?(n.socket.emit("memberAnswer",!0),alert("B\u1ea1n tr\u1ea3 l\u1eddi \u0111\xfang r\u1ed3i")):(n.socket.emit("memberAnswer",!1),alert("B\u1ea1n tr\u1ea3 l\u1eddi sai r\u1ed3i")),t.length>a&&n.setState({numberQuestion:a})},n.clickSubmit=function(e,t){n.socket.emit("creatRoom",6969),n.setState({nickName:e,pin:t}),e&&6969===t&&n.socket.emit("nickName",e)},n.show=function(){var e=n.state,t=e.questions,a=e.numberQuestion,c=e.start,s=e.pin,o=e.nickName,i=e.disableAnswer;return 6969===s&&o&&!c?r.a.createElement("h1",null,"Waiting"):t&&c&&6969===s?r.a.createElement("div",null,r.a.createElement(k,{question:t[a].question}),r.a.createElement(E,null),r.a.createElement(f,{answer:t[a].answer,clickAnswer:n.clickAnswer,disable:i})):r.a.createElement(v,{clickSubmit:n.clickSubmit})},n.state={endpoint:"http://localhost:8000",questions:"",numberQuestion:0,score:0,start:!1,nickName:"",pin:"",disableAnswer:!1},n.socket=null,n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.start()}},{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" wrapper col-sm-8 col-lg-8 "},this.show()))}}]),t}(a.Component),j=n(57),O=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=n.props,t=e.clickNext,a=e.numberQuestions;e.numberQuestion<a-1&&t()},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.numberQuestion,n=e.numberMember,a=e.numberQuestions,c=e.question,s=e.answer,o=e.numberMemberAnswer,i=e.members,l=s.map((function(e,t){return r.a.createElement("button",{key:t,className:"btn btn-secondary col-12 col-sm-5 answer"},e)})),m=i.map((function(e,t){return r.a.createElement("tbody",{key:t},r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},t+=1),r.a.createElement("td",null,e.nickName),r.a.createElement("td",null,e.rightQuestion),r.a.createElement("td",null,e.score)))}));return r.a.createElement("div",{className:"playgame row"},r.a.createElement("div",{className:"col-12  col-sm-8 questiongame wrapper"},r.a.createElement("div",{className:"badge badge-danger question"},r.a.createElement("h2",null,c)),r.a.createElement("div",{className:"img"}),r.a.createElement("div",{className:" row"},l)),r.a.createElement("div",{className:"col-12 col-sm-4 statistic"},r.a.createElement("h1",null,"C\xe2u h\u1ecfi s\u1ed1: ",t+=1," / ",a),r.a.createElement("h1",null,"S\u1ed1 ng\u01b0\u1eddi tr\u1ea3 l\u1eddi:",o," /",n),r.a.createElement("button",{type:"button",className:"btn btn-primary nextquestion",onClick:this.onClick},"Next question"," ",r.a.createElement("i",{className:"fa fa-step-forward","aria-hidden":"true"})),r.a.createElement("div",{className:"table-wrapper-scroll-y my-custom-scrollbar"},r.a.createElement("table",{className:"table table-bordered table-striped mb-0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"STT"),r.a.createElement("th",{scope:"col"},"Nick Name"),r.a.createElement("th",{scope:"col"},"S\u1ed1 c\xe2u tr\u1ea3 l\u1eddi \u0111\xfang"),r.a.createElement("th",{scope:"col"},"\u0110i\u1ec3m s\u1ed1"))),m))))}}]),t}(a.Component),w=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){(0,n.props.clickStart)()},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.numberMember,n=e.members.map((function(e,t){return r.a.createElement("button",{type:"button",key:t,className:"btn btn-danger member "},e.nickName," ",r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))}));return r.a.createElement("div",{className:"prepareplaygame"},r.a.createElement("p",{className:"pin"},"PIN:6969"),r.a.createElement("div",{className:"startgame"},r.a.createElement("button",{type:"button",onClick:this.onClick,className:"btn btn-success"},"Start Game")),r.a.createElement("div",{className:"card boxmembers"},r.a.createElement("h2",{className:"card-header"},"S\u1ed1 l\u01b0\u1ee3ng th\xe0nh vi\xean: ",t," "),r.a.createElement("div",{className:"members"},n)))}}]),t}(a.Component),S=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).start=function(){var e=n.state.endpoint;n.socket=g()(e,{rememberUpgrade:!0,transports:["websocket"],secure:!0,rejectUnauthorized:!1}),n.socket.on("Number",(function(e){n.setState({numberMember:e})})),n.socket.on("newMember",(function(e){var t=n.state.members;n.setState({members:[].concat(Object(j.a)(t),[e])})})),n.socket.on("memberAnswer",(function(e){if(e.isRight){var t=n.state.members,a=t.findIndex((function(t){return t.id===e.id}));t[a]={id:t[a].id,nickName:t[a].nickName,rightQuestion:t[a].rightQuestion+1,score:t[a].score+100},t.sort((function(e,t){return e.score>t.score?-1:t.score>e.score?1:0})),n.setState({members:t})}})),n.socket.on("numberQuestion",(function(e){n.setState({numberQuestion:e})})),n.socket.on("numberMemberAnswer",(function(e){n.setState({numberMemberAnswer:e})})),n.socket.on("memberExit",(function(e){var t=n.state.members,a=t.findIndex((function(t){return t.id===e.id}));t.splice(a,1),n.setState({members:t})}))},n.getData=function(){d.a.get("http://localhost:8000/getdata").then((function(e){var t=e.data;n.setState({questions:t})})).catch((function(e){return console.log(e),0}))},n.clickStart=function(){n.socket.emit("start",!0),n.setState({startPlay:!0})},n.clickNext=function(){n.socket.emit("next",1)},n.state={endpoint:"http://localhost:8000",startPlay:!1,questions:[],numberMember:0,numberMemberAnswer:0,members:[],numberQuestion:1},n.socket=null,n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.setState.startPlay;this.start(),this.socket.emit("start",e),this.getData()}},{key:"render",value:function(){var e=this.state,t=e.startPlay,n=e.questions,a=e.numberMember,c=e.members,s=e.numberQuestion,o=e.numberMemberAnswer;return t?r.a.createElement(O,{numberQuestion:s,numberMember:a,clickNext:this.clickNext,question:n[s].question,answer:n[s].answer,numberMemberAnswer:o,numberQuestions:n.length,members:c}):r.a.createElement(w,{clickStart:this.clickStart,numberMember:a,members:c})}}]),t}(a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Kh\xf4ng t\xecm th\u1ea5y trang")}}]),t}(a.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/nhom1-dacnpm",exact:!0},r.a.createElement(y,null)),r.a.createElement(p.a,{path:"/nhom1-dacnpm/playgame"},r.a.createElement(S,null)),r.a.createElement(p.a,null,r.a.createElement(C,null))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,n){e.exports=n(114)}},[[58,1,2]]]);
//# sourceMappingURL=main.5b62ed43.chunk.js.map